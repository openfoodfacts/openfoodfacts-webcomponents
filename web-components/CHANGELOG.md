# Changelog

## [1.16.0](https://github.com/openfoodfacts/openfoodfacts-webcomponents/compare/v1.15.1...v1.16.0) (2026-01-27)


### Features

* view only mode for folksonomy editor ([#396](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/396)) ([abcdcc7](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/abcdcc72a54d9357173e335e23f372964261fad6))


### Bug Fixes

* align donation banner bullet list spacing ([#401](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/401)) ([5631b68](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/5631b6897f40659fc6928a163ae27a995bdbe172))
* **deps:** bump diff from 8.0.2 to 8.0.3 in /web-components ([#400](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/400)) ([92f97d1](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/92f97d161987bf6e0591da78ec1de3990c684f90))
* **deps:** bump qs from 6.14.0 to 6.14.1 in /web-components ([#394](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/394)) ([84710f8](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/84710f8a9f2d8863ff5e098e57d6c65f5519b3d1))

## [1.15.1](https://github.com/openfoodfacts/openfoodfacts-webcomponents/compare/v1.15.0...v1.15.1) (2025-12-04)


### Bug Fixes

* issue [#334](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/334) Round the red line in the donation web components. ([#369](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/369)) ([a2f086a](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/a2f086a464687783d829e1b63986afab2d44b847))
* Update donation banner to display next year in fundraiser message ([#375](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/375)) ([484053b](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/484053bfc685ac8a4921003a93a8c0a0d472c581))

## [1.15.0](https://github.com/openfoodfacts/openfoodfacts-webcomponents/compare/v1.14.2...v1.15.0) (2025-10-27)


### Features

* add webcomponents version field to window or globalThis ([#317](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/317)) ([674e451](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/674e4511dad6cee51b104c2e6d99b6ef083487f4))
* **knowledge-panels:** add top-panels property ([#297](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/297)) ([22c27c2](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/22c27c2d4dd0fc97f387871f5fca055e72ad1020))


### Bug Fixes

* conditionally include correction and data in annotate calls ([#318](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/318)) ([e48cc93](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/e48cc93e8213a707e618dd14b0b8e7d07717a624))
* **deps:** bump dompurify from 3.2.6 to 3.2.7 in /web-components ([#311](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/311)) ([280a928](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/280a928540e507592838c5dc04d212f2033dd967))
* **deps:** bump the interface-libraries group in /web-components with 3 updates ([#201](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/201)) ([4cf80a6](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/4cf80a6accc30a8e9ef442dd5007ee21a1e4122c))
* typo in readme ([#336](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/336)) ([d03eccc](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/d03eccc4a7761b3d2de695a5209608fda519be3e))

## [1.14.2](https://github.com/openfoodfacts/openfoodfacts-webcomponents/compare/v1.14.1...v1.14.2) (2025-09-21)


### Bug Fixes

* Include credentials in all Robotoff API requests ([#306](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/306)) ([8537024](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/85370244af1418f6e95914efe44e163fa02ac36a))

## [1.14.1](https://github.com/openfoodfacts/openfoodfacts-webcomponents/compare/v1.14.0...v1.14.1) (2025-09-19)


### Bug Fixes

* revert output file name to off-webcomponents.bundled.js ([#303](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/303)) ([84e8af3](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/84e8af312c4f54d98e569c0c6be0d86ffd8f045b))

## [1.14.0](https://github.com/openfoodfacts/openfoodfacts-webcomponents/compare/v1.13.2...v1.14.0) (2025-09-18)


### Features

* transition to Vite, add Storybook ([#274](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/274)) ([f416d9a](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/f416d9ad0d5f73831a818deff96444b790b42e55))


### Bug Fixes

* **deps:** bump marked from 16.2.1 to 16.3.0 in /web-components ([#287](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/287)) ([7169895](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/7169895c94263615653b85ffe7036e92f4dbee27))
* Type errors, rename getTaxonomyNameByLang and use SDK Nutrient Type ([#273](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/273)) ([2eee761](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/2eee761d4f40b94cee6d6bf1ea1e9ee6f62e17ac))

## [1.13.2](https://github.com/openfoodfacts/openfoodfacts-webcomponents/compare/v1.13.1...v1.13.2) (2025-09-11)


### Bug Fixes

* Robotoff instance creation in robotoff.ts ([#282](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/282)) ([2d8580c](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/2d8580c6358126a9deede0c3b6c1c8a4d6424762)), closes [#281](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/281)

## [1.13.1](https://github.com/openfoodfacts/openfoodfacts-webcomponents/compare/v1.13.0...v1.13.1) (2025-09-05)


### Bug Fixes

* fix library publication ([3691141](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/369114137f5ffa7acc68565569463ed92c8e1d4b))

## [1.13.0](https://github.com/openfoodfacts/openfoodfacts-webcomponents/compare/v1.12.3...v1.13.0) (2025-09-02)


### Features

* add news-feed web component ([#268](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/268)) ([24c80cd](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/24c80cd89d416991a4e4f67cd0db7c4f787bf5b1))
* adds delete and replace for values and properties ([#264](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/264)) ([3bceb87](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/3bceb871be3aa02a7439eec2f6902847e61dfc9d))
* Integrate @openfoodfacts/openfoodfacts-nodejs ([#266](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/266)) ([7052f3b](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/7052f3ba3677c1c8393b988bfa79d631521bf968))


### Bug Fixes

* fixes the link for properties exploration ([#213](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/213)) ([6385338](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/6385338de1a11a97de8e3b48cac18b121ef80742))
* Include credentials in robotoff read requests ([#265](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/265)) ([cb52e90](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/cb52e901d5b33bec3d9da750840ca09958512528))

## [1.12.3](https://github.com/openfoodfacts/openfoodfacts-webcomponents/compare/v1.12.2...v1.12.3) (2025-08-18)


### Bug Fixes

* improve taxonomy name retrieval with better error handling ([#249](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/249)) ([8e24499](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/8e2449911bdfb49e7d9d25158a4990d6b00c481c)), closes [#217](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/217)

## [1.12.2](https://github.com/openfoodfacts/openfoodfacts-webcomponents/compare/v1.12.1...v1.12.2) (2025-08-17)


### Bug Fixes

* Product card height  inconsistency fixed ([#241](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/241)) ([822ad73](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/822ad73911b10537df8c93b2dd65fd616a550bd0))

## [1.12.1](https://github.com/openfoodfacts/openfoodfacts-webcomponents/compare/v1.12.0...v1.12.1) (2025-08-15)


### Bug Fixes

* score value type in product card prop ([#235](https://github.com/openfoodfacts/openfoodfacts-webcomponents/issues/235)) ([eefbcee](https://github.com/openfoodfacts/openfoodfacts-webcomponents/commit/eefbcee1c866a1c14464880fcac3d92c1a941330))

## [1.12.0](https://github.com/openfoodfacts/openfoodfacts-webcomponents/compare/v1.11.0...v1.12.0) (2025-08-13)

### Added

- Adds new component for folksonomy properties
- Adds property generation wizard for folksonomy-editor before creating a property

### Fixed

- fix: add cursor pointer style to product card

## 1.11.0 - 2025-07-8

### Added

- Adds new componnent for folksonomy propeties products

### Changed

- Enable automatic dark mode detection using a shared listener

### Fixed

- Adds auth_by_cookie logic to store token in localstorage

## 1.10.0 - 2025-06-28

### Added

- Add support for dark mode in `donation-banner` and `mobile-badges`

- Add `product-card` component to display a product card with image, name, brands, quantity, product type, nutriscore, nova group and greenscore.

## 1.9.0 - 2025-06-19

### Added

- Add `languageCode` signal in app to handle language changes. It avoid delays when changing language.

### Changed

- Use `languageCode` signal instead of `getLocale` to fix delay of language change.

## 1.8.5 - 2025-06-12

### Fixed

- Fix `robotoff-contribution-message` refresh when `language-codes` change.

### Docs

- Update Readme.md to explain how to copy localization files to your project.

## 1.8.4 - 2025-06-12

### Fixed

- Fix `robotoff-nutrient-extraction` when the `fetchProduct` as no `nutriments`.

## 1.8.3 - 2025-06-10

### Fixed

- Fix `robotoff-nutrient-extraction` refresh when `language-codes` change.

## 1.8.2 - 2025-06-10

### Fixed

- Fix `robotoff-ingredient-spellcheck` refresh when `language-codes` change.

## 1.8.1 - 2025-06-10

### Fixed

- Fix `robotoff-nutrient-extraction`, `robotoff-ingredient-detection` and `robotoff-ingredient-spellcheck` refresh when `language-codes` change.

## 1.8.0 - 2025-06-10

### Changed

- Add `language-codes` attribute to `robotoff-contribution-message` to filter insights by language.
- Group insights in one request to `robotoff-contribution-message` to reduce the number of requests.
- Add robotoff-ingredient-detection in `robotoff-modal` and `robotoff-contribution-message`.
- Update `robotoff-ingredient-detection` to fire state event
- Increase max width of `robotoff-nutrient-extraction` image to 700px.
- Add view product link to `robotoff-nutrient-extraction`, `robotoff-ingredient-detection` and `robotoff-ingredient-spellcheck`.

### Fixed

- Fix the `robotoff-ingredient-detection` issue that resets the image when the crop mode is toggled and the edit mode is enabled.

## [1.7.1] - 2025-06-10

### Changed

- Update dependencies to be up-to-date with the latest versions.
- Update translations

### Fixed

- Fix `mobile-badges` to display the correct path for the images.
- Fix `donation-banner` styling.
- Fix `folksonomy-editor` to display the autocomplete list correctly.

## [1.7.0] - 2025-05-26

### Added

- Add `robotoff-ingredient-detection` component.

### Changed

- Rename `robotoff-ingredients` to `robotoff-ingredient-spellcheck` to be closer to the API endpoint.
- Rename `robotoff-nutrients` to `robotoff-nutrient-extraction` to be closer to the API endpoint.
- Refactor `text-corrector` to create a new component to highlight the differences between the original text and the corrected text. This component is called `text-corrector-highlight`.

## [1.6.0] - 2025-05-26

### Added

- Add `LoadingWithTimeoutMixin` to avoid multiple submit.
- Add it to `robotoff-nutrients`, `robotoff-questions` and `robotoff-ingredients`.
- Add `displayInEditForm` keys by default except `alcohol` if it's not present.
- Add `loading-button` component to handle loading behavior.

### Changed

- Rename `robotoff-nutrients-table` to `robotoff-nutrients-form`.
- Remove `energy` key because it will be compute by Robotoff.

### Fixed

- Fix suggestions in `robotoff-nutrients-form` to avoid showing suggestions with similar values. For exemple : "0.5" and "0.50".
- Fix refresh `robotoff-ingredients` when `language-codes` change.
- Fix dependencies versions.

## [1.5.2] - 2025-05-22

### Fixed

- Fix robotoff ingredients annotation to send the good data format.

## [1.5.1] - 2025-05-19

### Fixed

- Fix robotoff suggestions to avoid showing `null` unit in `robotoff-nutrients-table`.

## [1.5.0] - 2025-05-19

### Added

- Add `autocomplete-input` web component for enhanced input fields with suggestion capabilities
- Add Folksonomy Editor Advanced Features for improved taxonomy management
- Add new translations for French and Spanish languages
- Add `contribution-message` web component for displaying user contribution messages

### Changed

- Improve autocomplete functionality with better suggestion handling
- Update Robotoff components (nutrients, contribution message) for better performance
- Update API interactions and type definitions for better integration

### Fixed

- Various bug fixes and performance improvements

## [1.4.2] - 2025-04-08

### Fixed

- Fix `runScanner` property to be kebab-case : `run-scanner`.
- Fix `runScanner` property to detect update, and start the scanner when it is set to `true` if the scanner has code reader available.

## [1.4.1] - 2025-04-08

### Fixed

- Fix `BarcodeScannerState` enum to be string instead of number.

## [1.4.0] - 2025-04-07

### Added

- Add `barcode-scanner` web component to scan a barcode and find out its details (health, preferences, etc.).
- Add `download-app-qr-code` web component to show the QR code to download the app.
- Add some translations for the web components.

### Changed

- Use kebab-case for each property of the web components to be more consistent.
- Fix boolean properties to be `false` by default.
- Update `robotoff-question` and `robotoff-nutrients` web components to be more easier to use in openfoodfacts website.

## [1.2.2] - 2025-03-26

### Added

- Add `donation-banner` web component to show the donation banner in the web components.
- Add parameter `assets-images-path` to `off-web-components-configuration` to allow to change the path of the assets images.
- Add `mobile-badges` web component to show the mobile badges in the web components.
- Update `donation-banner` web component to automatically update the year in the donation banner. And allow to change the year with the `year` property.

## [1.2.1] - 2025-03-18

### Changed

- Update event to simplify this behavior to simplify the code and make it more easier to integrate in openfoodfacts-server.
- Add `annotated: false` to insights api call to get only the nutrients without the annotations.

## [1.2.0] - 2025-03-05

### Changed

- Remove max-width from `robotoff-question` to allow it to be used in a flex container.
- Add `showImage` in `options` property of `robotoff-question` to allow to hide or show the image.

## [1.1.1] - 2025-03-05

### Fixed

- Fix the property `robotoff-configuration` in `off-web-components-configuration` to be correctly set has a property of the web component.

## [1.1.0] - 2025-03-05

### Changed

- Change the `robotoff-configuration` to `off-web-components-configuration` to add all possible configuration for the web components, in this case `language-code`
- Build language files with rollup for the web components to fix the issue wit html from lit.

## [1.0.0] - 2025-02-04

### Added

- Configure rollup to build the web components.
- Implementation of `robotoff-question` web component.
- Implementation of `robotoff-configuration` that allow to configure the interraction with the Robotoff API with :
  - `dryRun` : to simulate the API call without actually sending the data.
  - `apiUrl` : to configure the API URL.
  - `imgUrl` : to configure the image URL.
- Implementation of `robotoff-nutrients` web component.
- Add docs for the web components on `web-components/docs`
